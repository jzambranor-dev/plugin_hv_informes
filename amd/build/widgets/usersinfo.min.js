/**
 * User information - chart init.
 *
 * @module     report_lmsace_reports/usersinfo
 * @copyright  2023 LMSACE <https://lmsace.com>
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define(["jquery","core/ajax","core/loadingicon"],function(e,t,n){var a=null,o=e(".user-info-block .loadiconElement");var r=function(e,t,n){let o=document.getElementById("user-info-chart");if(o){let i="doughnut";var r=e.getRandomColors(["c1","c2","c3","c4"]);a=e.buildChart(o,i,t,n,r,null)}},i=function(e){e||(e="today");var a={methodname:"report_lmsace_reports_get_chart_reports",args:{filter:e,chartid:"siteuserswidget"}},r=t.call([a])[0];r.done(function(e){l(e)}),n.addIconToContainerRemoveOnCompletion(o,r)},l=function(e){a.data.labels=e.label,a.data.datasets[0].data=e.value,a.update()};return{init:function(t){if("undefined"==typeof siteusers)return null;var n=siteusers.label,a=siteusers.value;return r(t,n,a),e(".user-info-block .dropdown-menu a").click(function(t){t.preventDefault();var n=e(this).text(),a=e(this).attr("data-value");e(this).closest(".dropdown-menu").find(".dropdown-item").removeClass("active"),e(this).addClass("active"),e(this).parents(".dropdown").find(".lmsace-filter-btn").html('<i class="fa fa-filter"></i> '+n),i(a)}),!0}}});
//# sourceMappingURL=usersinfo.min.js.map