/**
 * User cohorts groups - chart init.
 *
 * @module     report_lmsace_reports/user_cohorts_groups
 * @copyright  2023 LMSACE <https://lmsace.com>
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define(["jquery","core/ajax","core/loadingicon","core/chartjs"],function(t,e,o){var r=null,a=t(".user-cohort-group-block .loadiconElement");var n=function(t){let e=document.getElementById("user-cohort-group-chart");if(e){let a="doughnut";var o=t.getRandomColors(["c1","c2"]);r=t.buildChart(e,a,usergroupcohorts.label,usergroupcohorts.value,o,null)}},l=function(t){var r={methodname:"report_lmsace_reports_get_chart_reports",args:{filter:t,chartid:"usergroupcohortswidget",relatedid:usergroupcohorts.userid}},n=e.call([r])[0];n.done(function(t){c(t)}),o.addIconToContainerRemoveOnCompletion(a,n)},c=function(t){r.data.labels=t.label,r.data.datasets[0].data=t.value,r.update()};return{init:function(e){n(e),t(".user-cohort-group-block .dropdown-menu a").click(function(e){e.preventDefault();var o=t(this).text(),r=t(this).attr("data-value");t(this).closest(".dropdown-menu").find(".dropdown-item").removeClass("active"),t(this).addClass("active"),t(this).parents(".dropdown").find(".lmsace-filter-btn").html('<i class="fa fa-filter"></i> '+o),l(r)})}}});
//# sourceMappingURL=user_cohorts_groups.min.js.map