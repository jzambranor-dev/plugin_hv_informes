/**
 * User logins - chart init.
 *
 * @module     report_lmsace_reports/userlogins
 * @copyright  2023 LMSACE <https://lmsace.com>
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define(["jquery","core/ajax","core/loadingicon","core/chartjs","report_lmsace_reports/main"],function(e,t,a){var n=null,r=e(".user-login-block .loadiconElement");var o=function(e,t,a){let r=document.getElementById("user-login-chart");if(r){let s="line";var o=e.getRandomColors(["c4"],"0.5",!0),l=e.getRandomColors(["c4"]),i={data:{datasets:[{label:userlogins.userlabel}]}};n=e.buildChart(r,s,t,a,o,i,l)}},l=function(e,n){e||(e="week");var o={methodname:"report_lmsace_reports_get_chart_reports",args:{filter:e,chartid:"userloginswidget",relatedid:n}},l=t.call([o])[0];l.done(function(e){i(e)}),a.addIconToContainerRemoveOnCompletion(r,l)},i=function(e){n.data.labels=e.label,n.data.datasets[0].data=e.value,n.update()};return{init:function(t){if("undefined"==typeof userlogins)return null;var a=userlogins.label,n=userlogins.value,r=userlogins.userid;return o(t,a,n),e(".user-login-block .dropdown-menu a").click(function(t){t.preventDefault();var a=e(this).text(),n=e(this).attr("data-value");e(this).closest(".dropdown-menu").find(".dropdown-item").removeClass("active"),e(this).addClass("active"),e(this).parents(".dropdown").find(".lmsace-filter-btn").html('<i class="fa fa-filter"></i> '+a),l(n,r)}),!0}}});
//# sourceMappingURL=userlogins.min.js.map