/**
 * Teacher activity completion line chart widget with AJAX filter.
 *
 * @module     report_lmsace_reports/widgets/teacheractivitycompletion
 * @copyright  2023 LMSACE <https://lmsace.com>
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define(["jquery","core/ajax","core/loadingicon","core/chartjs"],function(t,e,a){var i=null,o=t(".teacher-activitycompletion-block .loadiconElement");var n=function(t,e,a){var o=document.getElementById("teacher-activitycompletion-chart");if(o){var n=t.getRandomColors(["c6"],"0.5",!0),c=t.getRandomColors(["c6"]);i=t.buildChart(o,"line",e,a,n,{data:{datasets:[{label:"Activity completions"}]}},c)}},c=function(t){t||(t="year");var i={methodname:"report_lmsace_reports_get_chart_reports",args:{filter:t,chartid:"teacheractivitycompletionwidget",relatedid:teacheractivitycompletion.teacherid}},n=e.call([i])[0];n.done(function(t){r(t)}),a.addIconToContainerRemoveOnCompletion(o,n)},r=function(t){i.data.labels=t.label,i.data.datasets[0].data=t.value,i.update()};return{init:function(e){if("undefined"==typeof teacheractivitycompletion)return null;var a=teacheractivitycompletion.label,i=teacheractivitycompletion.value;return n(e,a,i),t(".teacher-activitycompletion-block .dropdown-menu a").click(function(e){e.preventDefault();var a=t(this).text(),i=t(this).attr("data-value");t(this).closest(".dropdown-menu").find(".dropdown-item").removeClass("active"),t(this).addClass("active"),t(this).parents(".dropdown").find(".lmsace-filter-btn").html('<i class="fa fa-filter"></i> '+a),c(i)}),!0}}});
//# sourceMappingURL=teacheractivitycompletion.min.js.map