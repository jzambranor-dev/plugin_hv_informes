/**
 * Course visits widget.
 *
 * @module     report_lmsace_reports/coursevisits
 * @copyright  2023 LMSACE <https://lmsace.com>
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define(["jquery","core/ajax","core/loadingicon","core/chartjs"],function(e,t,a){var i=null,o=e(".course-visits-block .loadiconElement");var r=function(e,t,a){let o=document.getElementById("course-visits-chart");if(o){let n="line";var r=e.getRandomColors(["c8"],"0.5",!0),s=e.getRandomColors(["c8"]);i=e.buildChart(o,n,t,a,r,{data:{datasets:[{label:"coursevisits"}]}},s)}},s=function(e){e||(e="week");var i={methodname:"report_lmsace_reports_get_chart_reports",args:{filter:e,chartid:"coursevisitswidget",relatedid:courseresources.courseid}},r=t.call([i])[0];r.done(function(e){n(e)}),a.addIconToContainerRemoveOnCompletion(o,r)},n=function(e){i.data.labels=e.label,i.data.datasets[0].data=e.value,i.update()};return{init:function(t){if("undefined"==typeof coursevisits)return null;var a=coursevisits.label,i=coursevisits.value;return r(t,a,i),e(".course-visits-block .dropdown-menu a").click(function(t){t.preventDefault();var a=e(this).text(),i=e(this).attr("data-value");e(this).closest(".dropdown-menu").find(".dropdown-item").removeClass("active"),e(this).addClass("active"),e(this).parents(".dropdown").find(".lmsace-filter-btn").html('<i class="fa fa-filter"></i> '+a),s(i)}),!0}}});
//# sourceMappingURL=coursevisits.min.js.map